{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Invoice Negotiation System</title>
  <link rel="stylesheet" href="{% static 'css/landingPage.css' %}">
</head>

<body>
  <div class="container">
    <div class="hero">
      <h1>ğŸ“„ Online Invoicing System</h1>
      <p class="subtitle">
        Create, negotiate, and finalize invoices without creating an account.<br>
        Simple, fast, and secure transactions between sellers and buyers.
      </p>
    </div>

    <div class="cards" id="sellerRoomDiv">
        {% csrf_token %}
        <input type="password" id="sellerSecretInput" placeholder="Enter your secret key">
        <button class="btn btn-seller" id="sellerGoBtn">Go to Seller Room</button>
    </div>

    <div class="cards">
      <div class="card">
        <div class="card-icon">ğŸª</div>
        <h2>I'm a Seller</h2>
        <p>Create an invoice, set your terms, and share a secure link with your buyer to start negotiation.</p>
        <a class="btn btn-seller" id="openInvoiceModal">Create Invoice</a>
      </div>

      <div class="card" id="buyerCard">
        <div class="card-icon">ğŸ›’</div>
        <h2>I'm a Buyer</h2>
        <p>Received a link from a seller? Paste here or Click the link they shared with you to view and negotiate the invoice.</p>
        <div class="btn btn-buyer" id="buyerBtn">Enter Room</div>
      </div>
    </div>

    <!-- Hidden Modal for Invoice Type Selection -->
    <div id="invoiceModal" class="modal">
      <div class="modal-content">
        <span class="close-btn" id="closeModal">&times;</span>
        <h2>ğŸ“‘ Select Invoice Type</h2>
        <p class="modal-subtitle">Choose the type of invoice you want to create:</p>

        <div class="modal-options">
          <!-- Single Item Invoice -->
          <div class="option-card">
            <div class="option-icon">ğŸ›ï¸</div>
            <h3>Single-Item Invoice</h3>
            <p>Best for selling one product or service (e.g., 10 hours of consulting, 1 laptop).</p>
            <button onclick="window.location.href='/seller/create/'" class="btn btn-seller">Create Single-Item</button>
          </div>

          <!-- Multiple Item Invoice -->
          <div class="option-card">
            <div class="option-icon">ğŸ“¦</div>
            <h3>Multiple-Item Invoice</h3>
            <p>Perfect for wholesale or sari-sari store sales with many products in one invoice.</p>
            <button onclick="window.location.href='/invoice/create/'" class="btn btn-seller">Create Multiple-Item</button>
          </div>
        </div>
      </div>
    </div>

    <div class="features">
      <div class="feature">
        <div class="feature-icon">ğŸ”’</div>
        <h3>No Account Needed</h3>
        <p>Start transactions immediately without registration</p>
      </div>

      <div class="feature">
        <div class="feature-icon">ğŸ¤</div>
        <h3>Real-time Negotiation</h3>
        <p>Instant updates as both parties review and negotiate</p>
      </div>

      <div class="feature">
        <div class="feature-icon">âœ…</div>
        <h3>Secure & Verified</h3>
        <p>QR codes and verification keys ensure authenticity</p>
      </div>

      <div class="feature">
        <div class="feature-icon">ğŸ”—</div>
        <h3>One Buyer Per Room</h3>
        <p>First buyer to join gets exclusive access</p>
      </div>

      <div class="feature">
        <div class="feature-icon">ğŸ’°</div>
        <h3>Multiple Payment Methods</h3>
        <p>Cash, GCash, PayPal, Bank Transfer, and more</p>
      </div>

      <div class="feature">
        <div class="feature-icon">ğŸ“¥</div>
        <h3>Downloadable PDFs</h3>
        <p>Get professional invoices with QR verification</p>
      </div>
    </div>

    <div class="demo-link">
      <p>Powered by Django REST Framework & Real-time WebSocket</p>
    </div>
  </div>

  <script src="{% static 'js/landingPage.js' %}"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const openBtn = document.getElementById("openInvoiceModal");
      const modal = document.getElementById("invoiceModal");
      const closeBtn = document.getElementById("closeModal");

      openBtn.addEventListener("click", function(event) {
        event.preventDefault();
        modal.style.display = "block";
      });

      closeBtn.addEventListener("click", function() {
        modal.style.display = "none";
      });

      window.addEventListener("click", function(event) {
        if (event.target === modal) {
          modal.style.display = "none";
        }
      });
    });
  </script>

</body>
</html>
